Assignment - 1

master-slave
    1  sudo apt update
    2  nano insall.sh
       https://docs.ansible.com/ansible/latest/installation_guide/installation_distros.html#installing-ansible-on-ubuntu
       copy & pest
    3  bash insall.sh
    5  sudo nano insall.sh 
    6  bash insall.sh 
    7  ssh-keygen
    8  cat /home/ubuntu/.ssh/id_rsa.pub
       copy the ssh key & pest it to slave1/2 authrized key
   10  sudo nano /etc/ansible/hosts
       slave1 ansible_host=172.31.34.137
       slave2 ansible_host=172.31.46.132  
   11  ansible -m ping all
   23  sudo nano play1.yaml
---
- name: task for slave1
  hosts: slave1
  become: true
  tasks:
  - name: install java in slave1
    apt: name=openjdk-11-jdk state=latest
- name: task for slave2
  hosts: slave2
  become: true
  tasks:
  - name: install mysql in slave2
    apt: name=mysql-server state=latest

   24  ansible-playbook play1.yaml --syntax-check
   30  ansible-playbook play1.yaml

slave-1

  1  sudo apt update
    2  cd .ssh/
    3  sudo nano authorized_keys 
       pest master ssh key


Slave-2  1  sudo apt update
    2  cd .ssh/
    3  sudo nano authorized_keys 
       pest master ssh key


Assignment-2

   32  sudo nano play2.yaml
---
- name: executing a script on slave nodes
  hosts: all
  become: true
  tasks:
  - name: running a script
    script: script2.sh

   33  sudo nano script2.sh

echo "this has been added by custom script" > /tmp/1.txt

   34  ansible-playbook play2.yaml --syntax-check
   35  sudo nano play2.yaml


Assignment -3

1   cd /etc/ansible/roles/
2   sudo ansible-galaxy init apache2
3   cd /apache2/tasks/
4   sudo nao index.html
---
- name: installing apache2
  apt: name=apache2 state=latest


5   sudo nano main.yml

- include_tasks: install.yaml

1   cd /etc/ansible/roles/
2   sudo ansible-galaxy init nginx
3   cd /nginx/tasks/
4   sudo nao index.html
---
- name: installing nginx
  apt: name=nginx state=latest
5   sudo nano main.yml
- include_tasks: install.yaml

20  sudo nano play3.yaml
---
- name: executing apache role for slave1
  become: true
  hosts: slave1
  roles:
  - apache
- name: executing nginx role for slave2
  become: true
  hosts: slave2
  roles:
  - nginx
24  ansible-playbook play3.yaml --syntax-check
30  ansible-playbook play3.yaml    



  







